<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  

  <title>Linux Çekirdek Güncellemesi</title>
  <meta name="description" content="Bu yazıyı tamamen okuduktan sonra işlemleri yapmaya başlarsanız hatayla karşılaşma oranınınız en aza iner. Altta bulunan not kısmı karşılaşılabilecek potansiyel hataları ve çözüm yollarını anlatmaktadır.

">
  <meta name="author" content="Cemre Tok">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Linux Çekirdek Güncellemesi">
  <meta name="twitter:description" content="Bu yazıyı tamamen okuduktan sonra işlemleri yapmaya başlarsanız hatayla karşılaşma oranınınız en aza iner. Altta bulunan not kısmı karşılaşılabilecek potansiyel hataları ve çözüm yollarını anlatmaktadır.

">
  
  <meta name="twitter:creator" content="cemretok">
  
  <meta name="twitter:image" content="/images/favicons/favicon-194x194.png" />

  <meta property="og:type" content="article">
  <meta property="og:title" content="Linux Çekirdek Güncellemesi">
  <meta property="og:description" content="Bu yazıyı tamamen okuduktan sonra işlemleri yapmaya başlarsanız hatayla karşılaşma oranınınız en aza iner. Altta bulunan not kısmı karşılaşılabilecek potansiyel hataları ve çözüm yollarını anlatmaktadır.

">
  <meta property="og:image" content="/images/favicons/favicon-194x194.png" />

  <link rel="apple-touch-icon" sizes="57x57" href="/images/favicons/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/images/favicons/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/images/favicons/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/images/favicons/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/images/favicons/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/images/favicons/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/images/favicons/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/images/favicons/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-194x194.png" sizes="194x194">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/images/favicons/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="/images/favicons/manifest.json">
  <link rel="shortcut icon" href="/images/favicons/favicon.ico">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="msapplication-TileImage" content="/images/favicons/mstile-144x144.png">
  <meta name="theme-color" content="#ffffff">
  
  <link rel="stylesheet" href="/css/main.css?1531746024074975000">
  <link rel="canonical" href="http://localhost:4000/2014/15/">
  <link rel="alternate" type="application/rss+xml" title="Cemre Tok" href="/feed.xml">
</head>


  <body>
    <span class="mobile btn-mobile-menu">
  <i class="icon icon-list btn-mobile-menu__icon"></i>
  <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
</span>

<header class="panel-cover" style="background-image: url(/images/cover.jpg)">
  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">
        <a href="/" title="link to home of Cemre Tok">
          <img src="/images/profile.jpg" class="user-image" alt="My Profile Photo">
          <h1 class="panel-cover__title panel-title">Cemre Tok</h1>
        </a>
        <hr class="panel-cover__divider">
        <p class="panel-cover__description">Blog ve KB</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary">

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item"><a href="/#blog" title="link to Cemre Tok blog" class="blog-button">Blok</a></li>
            </ul>
          </nav>

          <nav class="cover-navigation navigation--social">
            <ul class="navigation">

            
              <!-- Twitter -->
              <li class="navigation__item">
                <a href="http://twitter.com/cemretok" title="@cemretok on Twitter" target="_blank">
                  <i class="icon icon-social-twitter"></i>
                  <span class="label">Twitter</span>
                </a>
              </li>
            

            
              <!-- Facebook -->
              <li class="navigation__item">
                <a href="http://fb.me/tokcemre" title="tokcemre on Facebook" target="_blank">
                  <i class="icon icon-social-facebook"></i>
                  <span class="label">Facebook</span>
                </a>
              </li>
            

            
              <!-- LinkedIn -->
              <li class="navigation__item">
                <a href="https://www.linkedin.com/in/cemre-tok-3a65b75b" title="cemre-tok-3a65b75b on LinkedIn" target="_blank">
                  <i class="icon icon-social-linkedin"></i>
                  <span class="label">LinkedIn</span>
                </a>
              </li>
            

            
              <!-- GitHub -->
              <li class="navigation__item">
                <a href="https://www.github.com/cemretok" title="cemretok on GitHub" target="_blank">
                  <i class="icon icon-social-github"></i>
                  <span class="label">GitHub</span>
                </a>
              </li>
            

            

            <!-- RSS -->
            <li class="navigation__item">
              <a href="/feed.xml" title="Subscribe" target="_blank">
                <i class="icon icon-rss"></i>
                <span class="label">RSS</span>
              </a>
            </li>

            </ul>
          </nav>

        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>


    <div class="content-wrapper">
      <div class="content-wrapper__inner">
        <article class="post-container post-container--single">
  <header class="post-header">
    <div class="post-meta">
      <time datetime="2014-09-30 00:51" class="post-meta__date date">30 Sep 2014</time>
      
      &#8226; <span class="post-meta__tags">on <a href="/tags/#linux">linux</a> </span>
      
    </div>
    <h1 class="post-title">Linux Çekirdek Güncellemesi</h1>
  </header>

  <section class="post">
    <p><b>Bu yazıyı tamamen okuduktan sonra işlemleri yapmaya başlarsanız hatayla karşılaşma oranınınız en aza iner. Altta bulunan not kısmı karşılaşılabilecek potansiyel hataları ve çözüm yollarını anlatmaktadır.</b></p>

<p>Linux -Ubuntu- sistemde çekirdek güncellemesi yapıcaz ben sanal sürücüde gerçekleştirdim bu işlemi yaklaşık 2 saat kadar sürdü. Herhangi bir linux dağıtımında da fazla bir değişiklik olmadan aynı kodların çalıştığını belirtmek isterim.</p>

<p>-Zor Yöntem-</p>

<p>1) İlk başta “<b>uname -a</b>” komutu ile çekirdek versiyonunu öğreniyoruz.</p>

<p><br /><img src="/images/15-1.png" alt="Resim" /><br /></p>

<p>2)  “<b>Kernel</b>” adında bir dosya oluşturdum ve içerisine Linux’un son stabil versiyonu olan “<b>3.16.3</b>” paketini taşıdım. Bu paket kernel.org sitesinden indirilebilir. “<b>tar.xz</b>” uzantılı olanı ve patch dasyasını indireceksiniz.</p>

<p><br /><img src="/images/15-2.png" alt="Resim" /><br /></p>

<p>3) Kernel dosyası içindeki çekirdeği sıkıştırılmış formattan çıkarttım.</p>

<p><br /><img src="/images/15-3.png" alt="Resim" /><br /></p>

<p>4)   Sonrasında Linux versiyonunun yanındaki patch’in  çekirdeğe kurulumunu yaptım “<b>-R</b>” burada “<b>repeat</b>” yani tekrar anlamı taşıyor.</p>

<p><br /><img src="/images/15-4.png" alt="Resim" /><br /></p>

<p>5) Çekirdeğin kullanıcı isteğine göre modüllerinin eklenip çıkartılması için gerekli olan “<b>make menuconfig</b>” komutunu çalıştırdım ama gerekli kütüphaneler olmadığı için çalışmadı bu nedenle “<b>apt-get install libncurses5-dev</b>” komutuyla “<b>libncurses5-dev</b>“ paketini kurdum. Eğer “<b>make menuconfig</b>” işlemini yapmazsanız, yükleme yaparken yaklaşık 50 kadar soruya tek tek cevap vermeniz gerekecek o yüzden yapmanızı tavsiye ederim.</p>

<p><br /><img src="/images/15-5.png" alt="Resim" /><br /></p>

<p>6) Ardından “<b>make menuconfig</b>” komutunu çalıştırdım.</p>

<p><br /><img src="/images/15-6.png" alt="Resim" /><br /></p>

<p><br /><img src="/images/15-7.png" alt="Resim" /><br /></p>

<p>Herhangi bir değişiklik yapmadım. İstenirse modüller eklenip çıkartılabiliyor ama sonra USB belleğim ya da Internetim neden çalışmıyor diyebilirsiniz, dikkatli işlem yapmak gerekiyor.</p>

<p>7) Sonrasında “<b>apt-get install kernel-package</b>” gerekli olan “<b>kernel-package</b>” aracını yükledim. Kernel’ı derliyor.</p>

<p><br /><img src="/images/15-8.png" alt="Resim" /><br /></p>

<p>8) Derleme komutu “<b>make-kpkg kernel-image kernel_headers –initrd</b>”</p>

<p><br /><img src="/images/15-9.png" alt="Resim" /><br /></p>

<p>Benim yaptığım derleme işlemi toplamda 1 saat 50 dakika sürdü.</p>

<p>10) Sonrasında  kernel dosyası içinde oluşan “<b>.deb</b>” uzantılı paketleri yükledim. Biri image diğeri header paketi. Bunların yedeğini almakta fayda var derlemesi 2 saat sürüyor.</p>

<p><br /><img src="/images/15-10.png" alt="Resim" /><br /></p>

<p>11) Yükleme işlemi bittikten sonra linux’u yeniden başlatıyoruz. Bilgisayar açıldığı sırada “<b>Shift</b>” tuşuna basılı tutuyoruz.</p>

<p><br /><img src="/images/15-11.png" alt="Resim" /><br /></p>

<p>Karşımıza buna benzer bir ekran gelecek buradan çalıştırmak istediğimiz çekirdek sürümünü seçiyoruz. Bir önceki sürüm “<b>Previous Linux Versions</b>” sekmesinde gözükecektir. Biz son yüklediğimiz versiyonu seçiyoruz ve başlatıyoruz.</p>

<p>12) Terminal satırına “<b>uname -a</b>” komutunu giriyoruz ve yüklediğiniz çekirdeğin sürümünü görüyorsanız işlem tamam demektir. Görmüyorsanız alttaki not kısmını okuyun. Aynı işi yapan “<b>uname -r</b>” ile sadece sürümü görüntülersiniz.</p>

<p><b>**Not: Eğer yaptığınız kernel güncellemesi mevcut işletim sistemiyle uyuşmazlık yaşarsa sistemdeki bütün sürücüler hata vermeye başlar.  Bu nedenle kullandığınız kernel sürümüyle update edeceğiniz kernel sürümünün yakın olmasına dikkat edin kernel da 3.16.7 diyorsa siz 3.16.40 ya da 3.17.0 gibi güncellemeleri kurun. Zira sistemi kullanılmaz hale getirme olasılığınız çok yüksek.</b></p>

<p>-Kolay Yöntem-</p>

<p>Aslında işlemler 12. adımda bitti fakat bir yöntem daha var ondan da bahsetmek istiyorum. Yazının başlarında hazır “<b>.deb</b>” kernel paketlerinden bahsetmiştik işte bunların yüklenmesi ile ilgili bikaç şey söylemek istiyorum.</p>

<p>Şu sayfada -&gt;http://kernel.ubuntu.com/~kernel-ppa/mainline/ bütün kernel sürümlerini bulmak mümkün örneğin “<b>3.15.10</b>” sürümünü ele alalım.</p>

<p><br /><img src="/images/15-12.png" alt="Resim" /><br />
Seçtiğimiz paketleri aşağıdaki gibi bir komutla indirip, yüklüyoruz.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">cd</span> <span class="sr">/kernel &amp;&amp; wget http:/</span><span class="o">/</span><span class="n">kernel</span><span class="p">.</span><span class="nf">ubuntu</span><span class="p">.</span><span class="nf">com</span><span class="o">/~</span><span class="n">kernel</span><span class="o">-</span><span class="n">ppa</span><span class="o">/</span><span class="n">mainline</span><span class="o">/</span><span class="n">v3</span><span class="o">.</span><span class="mf">15.10</span><span class="o">-</span><span class="n">utopic</span><span class="o">/</span><span class="n">linux</span><span class="o">-</span><span class="n">headers</span><span class="o">-</span><span class="mf">3.15</span><span class="o">.</span><span class="mi">10</span><span class="o">-</span><span class="mo">031510</span><span class="o">-</span><span class="n">generic_3</span><span class="o">.</span><span class="mf">15.10</span><span class="o">-</span><span class="mo">031510</span><span class="o">.</span><span class="mi">201408132333</span><span class="n">_i386</span><span class="p">.</span><span class="nf">deb</span> <span class="n">http</span><span class="ss">:/</span><span class="o">/</span><span class="n">kernel</span><span class="p">.</span><span class="nf">ubuntu</span><span class="p">.</span><span class="nf">com</span><span class="o">/~</span><span class="n">kernel</span><span class="o">-</span><span class="n">ppa</span><span class="o">/</span><span class="n">mainline</span><span class="o">/</span><span class="n">v3</span><span class="o">.</span><span class="mf">15.10</span><span class="o">-</span><span class="n">utopic</span><span class="o">/</span><span class="n">linux</span><span class="o">-</span><span class="n">headers</span><span class="o">-</span><span class="mf">3.15</span><span class="o">.</span><span class="mi">10</span><span class="o">-</span><span class="mo">031510_3</span><span class="o">.</span><span class="mf">15.10</span><span class="o">-</span><span class="mo">031510</span><span class="o">.</span><span class="mi">201408132333</span><span class="n">_all</span><span class="p">.</span><span class="nf">deb</span> <span class="n">http</span><span class="ss">:/</span><span class="o">/</span><span class="n">kernel</span><span class="p">.</span><span class="nf">ubuntu</span><span class="p">.</span><span class="nf">com</span><span class="o">/~</span><span class="n">kernel</span><span class="o">-</span><span class="n">ppa</span><span class="o">/</span><span class="n">mainline</span><span class="o">/</span><span class="n">v3</span><span class="o">.</span><span class="mf">15.10</span><span class="o">-</span><span class="n">utopic</span><span class="o">/</span><span class="n">linux</span><span class="o">-</span><span class="n">image</span><span class="o">-</span><span class="mf">3.15</span><span class="o">.</span><span class="mi">10</span><span class="o">-</span><span class="mo">031510</span><span class="o">-</span><span class="n">generic_3</span><span class="o">.</span><span class="mf">15.10</span><span class="o">-</span><span class="mo">031510</span><span class="o">.</span><span class="mi">201408132333</span><span class="n">_i386</span><span class="p">.</span><span class="nf">deb</span> <span class="o">&amp;&amp;</span> <span class="n">sudo</span> <span class="n">dpkg</span> <span class="o">-</span><span class="n">i</span> <span class="o">*</span><span class="p">.</span><span class="nf">deb</span></code></pre></figure>

<p>Bu dosyaların “<b>cd /kernel</b>cd /kernel” komutu ile “<b>kernel</b>” dizinine “<b>wget</b>” aracı ile indiriyorum sonrasında “<b>sudo dpkg -i *.deb</b>” ile de inen paketlerin kurulumunu yapıyorum. Böylece 2 saat derlemekle uğraşmadan hazır derlenmiş paketin kurulumunu yapabiliyorum. Gayet kolay bir yöntem.</p>

  </section>
  
</article>



      </div>

      <footer class="footer">
  <span class="footer__copyright">&copy; 2018 Cemre Tok. All rights reserved.</span>
</footer>

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="/js/main.js?1531746024074975000"></script>


    </div>
  </body>
</html>